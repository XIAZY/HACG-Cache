jQuery(function(){jQuery(".widget_wp_sidebarlogin form").submit(function(){var e=jQuery(this),t=e.attr("action");jQuery("."+sidebar_login_params.error_class).remove();var n=e.find('input[name="log"]').val(),r=e.find('input[name="pwd"]').val();if(!n){e.prepend('<p class="'+sidebar_login_params.error_class+'">'+sidebar_login_params.i18n_username_required+"</p>");return!1}if(!r){e.prepend('<p class="'+sidebar_login_params.error_class+'">'+sidebar_login_params.i18n_password_required+"</p>");return!1}if(sidebar_login_params.force_ssl_login==1&&sidebar_login_params.is_ssl==0)return!0;e.block({message:null,overlayCSS:{backgroundColor:"#fff",opacity:.6}});e.find('input[name="rememberme"]:checked').size()>0?remember=e.find('input[name="rememberme"]:checked').val():remember="";var i={action:"sidebar_login_process",user_login:n,user_password:r,remember:remember,redirect_to:e.find('input[name="redirect_to"]').val()};jQuery.ajax({url:sidebar_login_params.ajax_url,data:i,type:"POST",success:function(t){t.indexOf("<!--SBL-->")>=0&&(t=t.split("<!--SBL-->")[1]);t.indexOf("<!--SBL_END-->")>=0&&(t=t.split("<!--SBL_END-->")[0]);var n=jQuery.parseJSON(t);if(n.success==1)window.location=n.redirect;else{e.prepend('<p class="'+sidebar_login_params.error_class+'">'+n.error+"</p>");e.unblock()}}});return!1})});